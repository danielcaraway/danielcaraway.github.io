---
layout: single
title: "dailylog 8-11-20"
tags: dailylog pandas
---

## 1. Get the trending csv from this script

```python
from TikTokApi import TikTokApi
import pandas as pd
api = TikTokApi()


def simple_dict(tiktok_dict):
    to_return = {}
    to_return['user_name'] = tiktok_dict['author']['uniqueId']
    to_return['user_id'] = tiktok_dict['author']['id']
    to_return['video_id'] = tiktok_dict['id']
    to_return['video_desc'] = tiktok_dict['desc']
    to_return['video_time'] = tiktok_dict['createTime']
    to_return['video_length'] = tiktok_dict['video']['duration']
    to_return['video_cover'] = tiktok_dict['video']['cover']
    to_return['video_cover_dynamic'] = tiktok_dict['video']['dynamicCover']
    to_return['video_link'] = 'https://www.tiktok.com/@{}/video/{}?lang=en'.format(
                to_return['user_name'], to_return['video_id'])
    to_return['n_likes'] = tiktok_dict['stats']['diggCount']
    to_return['n_shares'] = tiktok_dict['stats']['shareCount']
    to_return['n_comments'] = tiktok_dict['stats']['commentCount']
    to_return['n_plays'] = tiktok_dict['stats']['playCount']
    return to_return



n_trending = 100
trending_videos = api.trending(count=n_trending)
trending_videos = [simple_dict(v) for v in trending_videos]
trending_videos_df = pd.DataFrame(trending_videos)
trending_videos_df.to_csv('trending.csv',index=False)
```

## 2. Quickly import and export it as json

```python
df = pd.read_csv('trending.csv')
result = df.to_json('trending.json', orient="records")
result
```

## 3. Upload to github for temp hosting

INSTIGATOR:

OMG TIKTOKAPI IS SO EXCITING!

PROBLEM:

I don't want to install the API on my actual machine for... reasons?

SOLUTION:

Virtual environments!!

PROBLEM:

Jupyter notebook doesn't play nice with virtual environments

SOLUTION:

Simply run what I need inside the console and pull it into Jupyter Notebook!!

PROBLEM:

This additional step is a barier (sp?) to entry

SOLUTION:

Well, what is our end goal? To see and keep the daily trending tiktoks? Yes? I think so?

WE WANT TRENDING DATA OVER TIME?

[How to schedule your Python Scripts on Mac and Windows](https://martechwithme.com/schedule-python-scripts-windows-mac/)

[Convert Python Scripts to executable applications for Mac and Windows](https://martechwithme.com/convert-python-script-app-windows-mac/)

[(2) Getting a python script to automatically run daily : applehelp](https://www.reddit.com/r/applehelp/comments/18scwe/getting_a_python_script_to_automatically_run_daily/)

[(2) Id like my python script to run daily at a certain time. Suggestions on how to go about this? : learnpython](https://www.reddit.com/r/learnpython/comments/85vsp6/id_like_my_python_script_to_run_daily_at_a/)

[Linux crontab command help and examples](https://www.computerhope.com/unix/ucrontab.htm)

[Linux crontab command help and examples](https://www.computerhope.com/unix/ucrontab.htm)

[Mac crontab: Creating MacOS startup jobs with crontab
er
launchd | alvinalexander.com](https://alvinalexander.com/mac-os-x/mac-osx-startup-crontab-launchd-jobs/)

[Creating a Launch Agent that provides an XPC service on macOS using Swift](https://rderik.com/blog/creating-a-launch-agent-that-provides-an-xpc-service-on-macos/)

[Schedule jobs using launchd](https://nathangrigg.com/2012/07/schedule-jobs-using-launchd)

[A launchd Tutorial](https://www.launchd.info/)

[How To Create and Run Scheduled Jobs with Node.js | DigitalOcean](https://www.digitalocean.com/community/tutorials/nodejs-cron-jobs-by-examples)
